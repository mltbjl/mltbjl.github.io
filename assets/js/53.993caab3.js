(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{443:function(s,o,t){"use strict";t.r(o);var v=t(2),_=Object(v.a)({},(function(){var s=this,o=s._self._c;return o("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[o("p",[s._v("序言：这些都是web的基础知识点，虽然是理论但是都是需要懂和熟悉的，所以，记录此笔记用来勉励自己。")]),s._v(" "),o("p",[s._v("在交互式web系统中，比如做登录功能，搜索商品功能，支付评论功能这些，其实这些操作都是独立的，互相没有连接。因为"),o("strong",[s._v("http协议是无状态的，无连接的")]),s._v("。")]),s._v(" "),o("p",[s._v("每次进行这些操作都需要用到用户Id啥的，在开发中很繁琐，但是程序员最喜欢和最能干的事情是啥，就是释放自己呀！此时就cookie应运而生了。")]),s._v(" "),o("h2",{attrs:{id:"cookie"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cookie"}},[s._v("#")]),s._v(" cookie")]),s._v(" "),o("p",[s._v("首先摆明一个"),o("strong",[s._v("观点")]),s._v("："),o("strong",[s._v("cookie不是缓存")]),s._v("，但是和缓存有关系。")]),s._v(" "),o("h3",{attrs:{id:"什么是cookie"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#什么是cookie"}},[s._v("#")]),s._v(" 什么是cookie")]),s._v(" "),o("p",[s._v("cookie是一小串文本信息，是"),o("strong",[s._v("key-value")]),s._v("形式存储信息的。cookie的名称不是固定的，由开发者自定义。")]),s._v(" "),o("h3",{attrs:{id:"cookie的分类"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cookie的分类"}},[s._v("#")]),s._v(" cookie的分类")]),s._v(" "),o("ul",[o("li",[o("p",[s._v("会话cookie：保存在"),o("strong",[s._v("内存")]),s._v("中，由浏览器的会话关闭后自动消失；")])]),s._v(" "),o("li",[o("p",[s._v("持久cookie：保存在"),o("strong",[s._v("硬盘")]),s._v("中，只有失效时间到了才会自动消失；")]),s._v(" "),o("p",[o("img",{attrs:{src:"https://img-blog.csdnimg.cn/9e48ae83076d4b8cad1cab86ec7289c8.png",alt:"img"}})])])]),s._v(" "),o("p",[s._v("根据上图看出，红色圈住的就是"),o("strong",[s._v("会话cookie")]),s._v("，其他的都是持久cookie。")]),s._v(" "),o("h3",{attrs:{id:"cookie的重要格式"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cookie的重要格式"}},[s._v("#")]),s._v(" cookie的重要格式")]),s._v(" "),o("p",[s._v("{name : 值, value : 值,Domain : 域名,Path : 路径,expries : 失效时间}")]),s._v(" "),o("p",[o("img",{attrs:{src:"https://img-blog.csdnimg.cn/a1bfac58057049c8a31f411cc225b885.jpeg",alt:"img"}})]),s._v(" "),o("h3",{attrs:{id:"cookie鉴权-数据传输-原理"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cookie鉴权-数据传输-原理"}},[s._v("#")]),s._v(" cookie鉴权（数据传输）原理")]),s._v(" "),o("ol",[o("li",[s._v("客户端"),o("strong",[s._v("第一次")]),s._v("请求服务器的时候，"),o("strong",[s._v("服务器会生成一个cookie")]),s._v("，然后通过"),o("strong",[s._v("响应头（Headers）"),o("strong",[s._v("里面的")]),s._v("set-cookie")]),s._v("的信息传输到客户端；")]),s._v(" "),o("li",[s._v("客户端第二次知道后面的所有请求，在"),o("strong",[s._v("请求头")]),s._v("的cookie都会"),o("strong",[s._v("自动地带上cookie的信息")]),s._v("，从而实现鉴权。")])]),s._v(" "),o("p",[s._v("因为cookie是保存在客户端里面，cookie数据容易被截获，总的来说，cookie是保存一些"),o("strong",[s._v("不那么重要的数据的")]),s._v("，对于一些"),o("strong",[s._v("重要的数据")]),s._v("比如密码，银行密码，身份证号这些就需要另一种方式进行存储了。此时，session应运而生！")]),s._v(" "),o("h2",{attrs:{id:"session"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#session"}},[s._v("#")]),s._v(" Session")]),s._v(" "),o("h3",{attrs:{id:"session原理"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#session原理"}},[s._v("#")]),s._v(" session原理")]),s._v(" "),o("p",[s._v("当客户端第一次请求服务器的时候，服务器就会产生"),o("strong",[s._v("session")]),s._v("，起名是自定义的。"),o("strong",[s._v("session")]),s._v(" 会在"),o("strong",[s._v("服务端和客户端")]),s._v("都会保存一份，一般是很长的经过加密的字符串。"),o("strong",[s._v("通过cookie的鉴权方式来实现session的鉴权")]),s._v("。")]),s._v(" "),o("p",[s._v("生命周期一般为 30 mins。")]),s._v(" "),o("p",[s._v("现在的"),o("strong",[s._v("公众号，小程序，app没有浏览器")]),s._v("的，就不能用到cookie或者是session了，此时token就应运而生！")]),s._v(" "),o("h2",{attrs:{id:"token-令牌"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#token-令牌"}},[s._v("#")]),s._v(" Token（令牌）")]),s._v(" "),o("h3",{attrs:{id:"获取方式"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#获取方式"}},[s._v("#")]),s._v(" 获取方式")]),s._v(" "),o("ol",[o("li",[s._v("登录之后：服务器会自动生成一个token；")]),s._v(" "),o("li",[s._v("通过一个特定的获取token的接口来获取token。一般是通过appId和secret。")])]),s._v(" "),o("h3",{attrs:{id:"加密方式"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#加密方式"}},[s._v("#")]),s._v(" 加密方式")]),s._v(" "),o("p",[s._v("对称加密：DES,AES")]),s._v(" "),o("p",[s._v("双钥加密：RSA，一般用于金融项目用作签名")]),s._v(" "),o("p",[o("strong",[s._v("只加密不解密（重点）")]),s._v("：MD5,SHA系列（SSH密钥）")]),s._v(" "),o("p",[s._v("编码格式：Base64")]),s._v(" "),o("h3",{attrs:{id:"token分类"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#token分类"}},[s._v("#")]),s._v(" Token分类")]),s._v(" "),o("p",[s._v("access_token：时效15mins到2h之间")]),s._v(" "),o("p",[s._v("refresh_token：时效15天")]),s._v(" "),o("h2",{attrs:{id:"cookie、session、token区别-重点"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cookie、session、token区别-重点"}},[s._v("#")]),s._v(" cookie、session、token区别（重点）")]),s._v(" "),o("p",[s._v("相同点：")]),s._v(" "),o("ul",[o("li",[s._v("都是用来鉴权（身份验证）的一种方式；")]),s._v(" "),o("li",[s._v("都是在服务器端产生的；")])]),s._v(" "),o("p",[s._v("不同点：")]),s._v(" "),o("ul",[o("li",[s._v("cookie的保存在客户端；")]),s._v(" "),o("li",[s._v("session和token的保存在服务器（虽然session也可以保存在客户端）")]),s._v(" "),o("li",[s._v("session保存在服务器的内存里的，时效是30mins，token保存在服务器的数据库里，时效是持久的。")])])])}),[],!1,null,null,null);o.default=_.exports}}]);